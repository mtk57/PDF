ログ設計 memo



・ログ設計指針が重要視され過ぎで、セキュリティ対策の一環や迅速なトラブル対応のために、
　ありとあらゆるログを取得するといったプロジェクトをまれに目にする。
・しかしそうなると、逆にログが膨大な量になり、解析に時間がかかるうえ、
　運用が開始されると結局、重要なログメッセージのみを監視するということになりがちである。
・ログ自体を出力しなければ、ログ出力がパフォーマンストラブルを引き起こすこともないだろう。

・本当に必要なログが決まったら、出力するログの目的に応じたログレベルやログ出力方式を決定する。

LEVEL  使用例
-------------------------------------------------------------------------------------------
trace  ループ内部の変数などdebugの中でも大量に出力されるメッセージ。
       あまり使用しているプロジェクトはない

debug  セッション内部の情報やユーザーHTTPリクエスト、レスポンス情報など、
       開発中やテスト用のデバッグメッセージ

info   アプリケーションの起動情報やログインしたユーザーIDなど毎回出力させたいメッセージ

warn   2重ログイン禁止のシステムで2重ログイン要求が発生したなど
       想定内の問題が発生したが、リクエストを処理し運用に問題ないメッセージ

error  DBサーバが無応答など、ユーザーからの処理を処理できない場合

fatal  アプリケーションがこれ以上動作できない場合など。
       あまり使用しているプロジェクトはない



